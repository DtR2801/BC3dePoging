<?xml version="1.0" encoding="utf-8"?>

<Page
    x:Class="Barroc_intens.Pages.MaintenanceDashboardPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="using:Barroc_intens.Models"
    xmlns:pages="using:Barroc_intens.Pages"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Row="0"
                    Grid.Column="0"
                    Grid.ColumnSpan="3"
                    VerticalAlignment="Center"
                    Padding="5"
                    Orientation="Horizontal"
                    Margin="8,5,8,5">

            <Button x:Name="ReturnButton"
                    Click="ReturnButton_Click"
                    Background="#FE6F5E"
                    Foreground="White">
                <Button.Content>
                    <SymbolIcon Symbol="Back" />
                </Button.Content>
            </Button>

            <TextBlock FontSize="28"
                       Padding="10"
                       VerticalAlignment="Center"
                       FontWeight="SemiBold"
                       Text="Onderhoud">
            </TextBlock>

            <TextBox x:Name="FilterTextBox"
                     Grid.Row="1"
                     Margin="20,10,20,10"
                     PlaceholderText="Type to filter by Name or Date..."
                     TextChanged="FilterTextBox_TextChanged" />
        </StackPanel>

        <ScrollViewer x:Name="DashboardStackPanel" 
            Grid.Column="0" 
            Grid.Row="1">
            <StackPanel Orientation="Vertical">

                <TextBlock x:Name="DashboardListViewTitle"      
                   Margin="0, 20, 0, 0" 
                   FontSize="20" 
                   Padding="50, 0, 50, 10"
                   Text="Alle Producten"
                   HorizontalAlignment="Left">
                </TextBlock>

                <ListView x:Name="DashboardListView" 
                  IsItemClickEnabled="True"
                  ItemClick="dashboardListView_ItemClick"
                  Margin="20, 10, 20, 20">
                    <ListView.ItemTemplate>
                        <DataTemplate x:DataType="local:Appointment">
                            <StackPanel Height="75"
                    Background="#FACA16"
                    Margin="0, 0, 0, 8">
                                <StackPanel Orientation="Horizontal" 
                                    MaxWidth="300"                                           HorizontalAlignment="Left">
                                    <TextBlock Text="{x:Bind Location}" 
                                    Foreground="Black"
                                    FontWeight="Bold"
                                    Margin="5,5,5,15"
                                    TextWrapping="Wrap"/>
                                    <TextBlock Text="{x:Bind Date}"
                                    Foreground="Black"
                                    Margin="5,5,5,5 "/>
                                </StackPanel>
                                <StackPanel Orientation="Vertical" 
                                    MaxWidth="300"                                           HorizontalAlignment="Left">
                                    <TextBlock Text="{x:Bind Description}" 
                                    Foreground="Black"
                                    FontWeight="Bold"
                                    Margin="5,5,5,15"
                                    TextWrapping="Wrap"/>
                                    <TextBlock Text="{x:Bind Duration}"    
                                    Foreground="Black"
                                    Margin="5,5,5,5 "/>
                                </StackPanel>
                            </StackPanel>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </StackPanel>
        </ScrollViewer>

        <StackPanel x:Name="AppointmentDetailView" 
                    Grid.Column="1" 
                    Grid.Row="1" 
                    Background="Black" 
                    Margin="15,15,30,30" 
                    Visibility="Collapsed">
            
        <TextBlock Grid.Row="0"
                    Text="Details afspraak" 
                   FontSize="36"
                   FontWeight="SemiBold"
                   Foreground="#FACA16"
                   Margin="25"/>

        <!-- Details Panel -->
            <StackPanel Orientation="Vertical" Margin="55,25,25,25">

                <TextBlock x:Name="XX"
                    FontWeight="Bold"
                            Text="Datum:"
                           FontSize="22"/>
                <TextBlock Text="{Binding Date}"
                           Margin="25,5,0,15" 
                           FontSize="20"
                           Foreground="#FACA16"/>

                <TextBlock FontWeight="Bold"
                           FontSize="22"
                            Text="Duur (minuten):" />
                <TextBlock Text="{Binding Duration}"
                            Margin="25,5,0,15"
                           FontSize="20"
                           Foreground="#FACA16"/>

                <TextBlock FontWeight="Bold"
                           FontSize="22"
                            Text="Omschrijving:" />
                <TextBlock Text="{Binding Description}"
                            Margin="25,5,0,15"
                           FontSize="20"
                           Foreground="#FACA16"/>

                <TextBlock FontWeight="Bold"
                           FontSize="22"
                            Text="Aangemaakt:" />
                <TextBlock Text="{Binding CreatedAt}"
                            Margin="25,5,0,15" 
                           FontSize="20"
                           Foreground="#FACA16"/>

                <TextBlock FontWeight="Bold"
                           FontSize="22"
                            Text="Bijgewerkt:" />
                <TextBlock Text="{Binding UpdatedAt}"
                            Margin="25,5,0,15" 
                           FontSize="20"
                           Foreground="#FACA16"/>

                <TextBlock FontWeight="Bold"
                           FontSize="22"
                            Text="Toegewezen werknemer:" />
                <TextBlock Text="{Binding User.Username}"
                            Margin="25,5,0,15" 
                           FontSize="20"
                           Foreground="#FACA16"/>

                <TextBlock FontWeight="Bold"
                           FontSize="22"
                            Text="Locatie:" />
                <TextBlock Text="{Binding Location}"
                            Margin="25,5,0,15"
                           FontSize="20"
                           Foreground="#FACA16"/>
            </StackPanel>
        
        </StackPanel>

        <StackPanel x:Name="PictureStackpanel" 
                    Grid.Column="1" 
                    Grid.Row="1" 
                    Margin="15,15,30,30" 
                    Visibility="Visible">
            <Image Source="C:\Users\d2801\OneDrive\Desktop\barroc_intens_G\Barroc intens\Assets\BICLOGO.png" Height="450" Width="650" Margin="50,225,0,55" HorizontalAlignment="Center" VerticalAlignment="Center"/>
        </StackPanel>
        
        
        <StackPanel Grid.Column="2" Grid.Row="0" Grid.RowSpan="3" Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Bottom">
            <!--<Button x:Name="DeleteItemButton" 
        Click="DeleteItemButton_Click"          
        Background="#FE6F5E"
        Foreground="Black"
        FontSize="18"
        FontWeight="ExtraBold"
        Height="45"
        Width="45"
        Margin="5,5,10,5"
        VerticalAlignment="Center"
        HorizontalAlignment="Center"
        Visibility="Collapsed">
                <Button.Content>
                    <SymbolIcon Symbol="Delete"/>
                </Button.Content>
            </Button>-->

            <Button x:Name="Go2CreateViewButton" 
        Click="AddAppointmentButton_OnClick" 
        VerticalAlignment="Center"
        HorizontalAlignment="Center"          
        Background="#FACA16"
        Foreground="Black"
        FontSize="30"
        FontWeight="ExtraBold"
        Height="45"
        Width="45"
        Margin="5,5,10,10">
                <Button.Content>
                    <SymbolIcon Symbol="Add"/>
                </Button.Content>
            </Button>
        </StackPanel>
    </Grid>
</Page>